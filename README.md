## Key Vault for Microservices
Vault is responsible for generating and managing credentials for each microservice, including the API Gateway and the Administrator.

## Initial Configuration
The project is running in a Docker container, so it is necessary to have basic knowledge of Docker.

- Command to run the Docker project:
  - ```docker-compose up``` to start the project.
  - ```docker-compose down``` to stop the project server.

- Project Configurations:
  - Rename the file ```.env.test``` to ```.env``` and configure the environment variables:
    - ```DATABASE_URL```: Specify the connection to the PostgreSQL database (you must have created the database and uncommented line 21 of the file ```__init__.py``` in the directory ```app/core/__init__.py``` ```CONNECTION_DATABASE.create_all()``` to generate the necessary tables).
    - ```VAULT_SECRET_KEY```: Specify the secret key of the vault to encrypt the data. The secret key must be used in all microservices that will use the vault to decrypt the data for the keys of each microservice.

## Usage
- The gRPC endpoint to request data for the microservice functionality is as follows:
  - ```localhost:50051/KeysPairsService/keyPairs```, and the ```.proto``` file is in the directory ```app/src/protobufs/keys_pairs.proto``` along with ```keys_pairs_pb2_grpc.py``` and ```keys_pairs_pb2.py```, which are necessary in different microservices that will use the Vault.

- The way to send data is:
  ```json
  {
    "system_code": "SYSTEM_ADM" // It should not have more than 10 characters.
  }
  ```

- It will return the result:
    ```json
	{
    	"encrypted_data": "gAAAAABlJEe..."
	}
	```

- The data returns the encrypted data of the public and private token, in addition to providing the data for the public and private refresh token via gRPC, taking the ```system_code``` as a parameter. If it does not exist, it will proceed to create all the necessary data for the signing and validation of the tokens generated by the microservices. In case they exist but are expired, it will proceed to generate them again.